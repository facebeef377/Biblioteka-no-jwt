<h3>Lista autorów</h3>
<a ng-if="user.type == 'admin'" href="#/add_author"><button ng-click="clearAuthor()" class="btn btn-success">Dodaj autora</button></a>
<br /><br />
<label>Wyszukaj autora</label>
<input type="text" ng-model="search.name" class="form-control">
<br /><br />
<table class="table">
  <thead>
    <th ng-click="sortBy('id')" class="right pointer inl">
      <span style="font-size: 80%">ID<span class="sortorder" ng-show="propertyName === 'id'" ng-class="{reverse: reverse}"></span></span>
    </th>
    <th ng-click="sortBy('name')" class="right pointer inl">
      <span style="font-size: 80%">Imię i nazwisko<span class="sortorder" ng-show="propertyName === 'name'" ng-class="{reverse: reverse}"></span></span>
    </th>
    <th ng-click="sortBy('books.length')" class="right pointer inl">
      <span style="font-size: 80%">Ilosć przypisanych książek<span class="sortorder" ng-show="propertyName === 'books.length'" ng-class="{reverse: reverse}"></span></span>
    </th>
    <th>Tytuły ksiązek</th>
    <th ng-if="user.type == 'admin'">Edytuj</th>
    <th ng-if="user.type == 'admin'">Usuń</th>
  </thead>
  <tbody>
    <tr ng-repeat="x in authors | orderBy:propertyName:reverse | filter:search:filterMyData">
      <td>{{x.id}}</td>
      <td>{{x.name}}</td>
      <td>{{x.books.length}}</td>
      <td>
        <p style="margin-bottom: 0px" ng-repeat="z in x.books">{{z.title}}</p>
      </td>
      <td ng-if="user.type == 'admin'"><button ng-click="gotoEdit_author(x)" class="btn">Edytuj</button></td>
      <td ng-if="user.type == 'admin'"><button ng-click="deleteAuthor(x)" class="btn btn-danger">Usuń</button></td>
    </tr>
  </tbody>
</table>
